<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - materials - video - webcam</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	</head>
	<body>

		<video id="video" style="display:none" autoplay playsinline></video>

		<script type="module">
            import * as THREE from 'https://cdn.skypack.dev/three@0.132.2';
            import { OrbitControls } from 'https://cdn.skypack.dev/three@0.132.2/examples/jsm/controls/OrbitControls.js';

			let camera, scene, renderer, video;

			function init(){
				scene = new THREE.Scene();
				camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

				//camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 0.1, 100 );
				//camera.position.z = 0.01;
				

				renderer = new THREE.WebGLRenderer();
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );

				//renderer = new THREE.WebGLRenderer( { antialias: true } );
				//renderer.setPixelRatio( window.devicePixelRatio );
				//renderer.setSize( window.innerWidth, window.innerHeight );
				//document.body.appendChild( renderer.domElement );

				const geometry = new THREE.PlaneGeometry( 5, 4 );

				video = document.getElementById( 'video' );
				const texture = new THREE.VideoTexture( video );
				const material = new THREE.MeshBasicMaterial( { map: texture } );

				//const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
				const cube = new THREE.Mesh( geometry, material );
				scene.add( cube );
				camera.position.z = 5;
			}

			function animate() {
				requestAnimationFrame( animate );
				renderer.render( scene, camera );
			}
			init();
			animate();
			//const controls = new OrbitControls( camera, renderer.domElement );
			//controls.enableZoom = false;
			//controls.enablePan = false;

			
		</script>

	</body>
</html>